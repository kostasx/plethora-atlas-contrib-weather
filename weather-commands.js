// Generated by CoffeeScript 1.12.4
var colors, initCommands;

colors = require('colors');

initCommands = function(program) {
  return program.command('weather').description('Weather Utilities').option('-g, --get-weather <city>', 'Get weather forecast for a give city').action(function(options) {
    var API_KEY, WEATHER, units, units_sign;
    WEATHER = require('./weather');
    if (options.getWeather) {
      API_KEY = config.keys.openweathermap.api_key;
      units = "metric";
      units_sign = units === "metric" ? "C" : "F";
      return WEATHER.getWeather({
        city: options.getWeather,
        api_key: API_KEY,
        units: units
      }).then(function(res) {
        return res.data.list.forEach(function(forecast) {
          return console.log(forecast.dt_txt, forecast.main.temp, units_sign);
        });
      })["catch"](console.log);
    }
  });
};

module.exports = initCommands;
